# SUEWS Configuration Schemas

This directory contains published JSON Schema files for SUEWS YAML configurations.

## Directory Structure

```
schemas/
├── latest/          # Symlink to current version
├── v1.0/           # Schema version 1.0
│   ├── schema.json
│   ├── schema.yaml
│   └── README.md
└── v1.1/           # Future schema versions...
```

## Using the Schemas

### Online Access

Schemas are available at:
- Latest: `https://github.com/UMEP-dev/SUEWS/tree/master/schemas/latest/schema.json`
- Specific version: `https://github.com/UMEP-dev/SUEWS/tree/master/schemas/v1.0/schema.json`

### Local Validation

```bash
# Validate a configuration file
python -m supy.util.schema_publisher validate my_config.yml

# Or with external tools
jsonschema -i my_config.yml schemas/latest/schema.json
```

### IDE Integration

#### VS Code

Add to `.vscode/settings.json`:
```json
{
  "yaml.schemas": {
    "./schemas/latest/schema.json": ["*.yml", "*.yaml"]
  }
}
```

#### PyCharm/IntelliJ

1. Go to Settings → Languages & Frameworks → Schemas and DTDs → JSON Schema Mappings
2. Add new mapping:
   - Name: SUEWS Configuration
   - File: `schemas/latest/schema.json`
   - Pattern: `*.yml`

## Schema Versioning

Schemas follow the versioning policy:
- **Minor updates (1.0 → 1.1)**: Backward compatible changes
- **Major updates (1.0 → 2.0)**: Breaking changes

## Generating Schemas

Schemas are automatically generated on:
- Push to master branch
- New release tags
- Manual workflow dispatch

To generate manually:
```bash
python -m supy.util.schema_publisher bundle ./schemas
```

## Contributing

When modifying the data model:
1. Update Pydantic models in `src/supy/data_model/`
2. Increment schema version if structure changes
3. Schemas will be auto-generated by CI/CD

## Support

For issues with schema validation, please open an issue at:
https://github.com/UMEP-dev/SUEWS/issues